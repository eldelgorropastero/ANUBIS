<ion-header>
  <ion-toolbar>
    <ion-title>Registrarse</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="logo-container">
    <img src="assets/img/anubis_logo.png" alt="Anubis Logo" />
  </div>

  <div id="container">
    <ion-item>
      <ion-label position="floating">Nombre de Usuario</ion-label>
      <ion-input type="text" [(ngModel)]="username" required minlength="6" maxlength="12"></ion-input>
      <ion-note color="danger" *ngIf="username && (username.length < 6 || username.length > 12)">
        El nombre de usuario debe tener entre 6 y 12 caracteres.
      </ion-note>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Correo</ion-label>
      <ion-input type="email" [(ngModel)]="email" required></ion-input>
      <ion-note color="danger" *ngIf="email && (!email.includes('&#64;') || !email.endsWith('.com'))">
        El correo debe contener un "&#64;" y terminar en ".com".
      </ion-note>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Confirmar Correo</ion-label>
      <ion-input type="email" [(ngModel)]="confirmEmail" required></ion-input>
      <ion-note color="danger" *ngIf="confirmEmail && confirmEmail !== email">
        El correo debe ser igual al correo ingresado.
      </ion-note>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Contraseña</ion-label>
      <ion-input type="password" [(ngModel)]="password" required minlength="6" maxlength="8"></ion-input>
      <ion-note color="danger" *ngIf="password && (password.length < 6 || password.length > 8)">
        La contraseña debe tener entre 6 y 8 caracteres.
      </ion-note>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Confirmar Contraseña</ion-label>
      <ion-input type="password" [(ngModel)]="confirmPassword" required></ion-input>
      <ion-note color="danger" *ngIf="confirmPassword && confirmPassword !== password">
        La contraseña debe ser igual a la contraseña ingresada.
      </ion-note>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Número de Teléfono</ion-label>
      <ion-input type="tel" [(ngModel)]="phoneNumber" required></ion-input>
      <ion-note color="danger" *ngIf="!isPhoneNumberValid()">
        El número debe iniciar con '9' y tener 9 dígitos.
      </ion-note>
    </ion-item>

    <ion-button expand="full" (click)="register()" class="custom-button" [disabled]="!isFormValid()">
      Registrarme
    </ion-button>
    
    <div id="text-container">
      <p class="register-link">¿Ya tienes cuenta? <a routerLink="/iniciar-sesion">Inicia sesión aquí</a></p>
    </div>
  </div>
</ion-content>
